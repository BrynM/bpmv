(function(){var h;a:{h=null;if("object"==typeof document&&"function"==typeof document.getElementsByTagName&&(h=document.getElementsByTagName("script"),"object"==typeof h&&0<h.length)){h=h[h.length-1];break a}h=void 0}h={_cfg:{tag:h,varName:"string"===typeof BPMV_VARNAME?""+BPMV_VARNAME:"bpmv",version:"1.1-dev"},arr:function(a,b){return this.bool(b)?Boolean(this.obj(a)&&"[object Array]"===Object.prototype.toString.call(a)&&(b||0<a.length)):!isNaN(b)&&-1<b?Boolean(this.obj(a)&&"[object Array]"===Object.prototype.toString.call(a)&&
a.length==parseInt(b,10)):Boolean(this.obj(a)&&"[object Array]"===Object.prototype.toString.call(a)&&0<a.length)},basename:function(a){var b=!1;if(this.str(a)){var d=this.rtrim(a,"/\\"),e=!1;/\//.test(d)?e=d.split("/"):/\\/.test(d)&&(e=d.split("\\"));this.arr(e)&&(b=e.pop())}return this.str(b)?b:a},bool:function(a){return"boolean"==typeof a},brow:function(){return this.obj(window)&&this.obj(navigator)},ccase:function(a,b){if(!this.str(a))return a;b=this.str(b)?b.split(/\,/):b;b=this.arr(b)?b:[" ",
"_","-"];var d=RegExp("(["+b.join("\\")+"][a-z])","g"),e=RegExp("["+b.join("\\")+"]");return a.replace(d,function(a){return a.toUpperCase().replace(e,"")})},clone:function(a,b){var d,e;switch(typeof a){case "boolean":d=a;break;case "function":d=function(){return a.apply(a,arguments)};break;case "number":d=-1<(""+a).indexOf(".")?parseFloat(a):parseInt(a);break;case "object":if("[object Array]"===Object.prototype.toString.call(a))d=Array.apply(null,a);else if(d=this.func(a.constructor)?a.constructor.apply(a,
[]):{},this.obj(d))for(e in a)d[e]=a[e];break;case "string":d=""+a}if("undefined"!=typeof d&&b){for(e in a)a.hasOwnProperty(e)&&(d[e]=this.clone(a[e]));d=a}return d},cook:function(a,b,d){if(this.obj(document)){var e=(new String(document.cookie)).split(/; ?/),g={},f=null;a=this.trim(a);if(this.str(a)&&"undefined"!=typeof b){if(this.str(d)||(d=(new Date((new Date).getTime()+2147483647)).toGMTString()),f=a+"="+escape(b)+";expires="+d+";path=/",document.cookie=f)return this.cook(a)}else{for(aC in e)"function"==
typeof e[aC].match&&(b=e[aC].match(/[^=]+/)+"",""!==b&&(kV=unescape(e[aC].replace(RegExp("^"+b+"="),""))),g[b]=kV);if(void 0===a)return g;if(this.obj(g)&&this.str(g[a]))return g[a]}}},count:function(a){if(this.arr(a)&&this.num(a.length))return a.length;var b=0;if(this.obj(a))for(var d in a)a.hasOwnProperty(d)&&++b;return b},date:function(a){return"[object Date]"===Object.prototype.toString.call(a)},dirname:function(a){var b=!1;this.str(a)&&(/\//.test(a)?b=a.replace(/\/[^\/]+$/,""):/\\/.test(a)&&(b=
a.replace(/\\[^\\]+$/,"")));return this.str(b)?b:a},ego:function(a){this.obj(this.ego.defOpts)||(this.ego.defOpts={len:12,prefix:"",charset:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",useTime:!0,absLen:!1,delim:"_"});this.obj(this.ego.usedIds)||(this.ego.usedIds={});this.obj(a)||(a={});for(var b in this.ego.defOpts)this.ego.defOpts.hasOwnProperty(b)&&"undefined"==typeof a[b]&&(a[b]=this.ego.defOpts[b]);a.ts=(new Date).getTime().toString();b="";for(var d=!1,e=!1==a.useTime?0:a.ts.length+a.delim.toString().length,
e=!0==a.absLen?a.len-e:a.len,g=0;g<e;g++){var f=Math.floor(Math.random()*a.charset.length);c=a.charset.substring(f,f+1);!1==d?null==c.match(/[a-zA-Z]/)?g--:(b+=c,d=!0):null==c.match(RegExp("["+a.charset+"]"))?g--:b+=c}b=!1==a.useTime?b:b+a.delim+a.ts;b=this.str(a.prefix)?a.prefix+a.delim+b:b;return"undefined"==typeof this.ego.usedIds[b]?(this.ego.usedIds[b]=!0,b):this.ego(a)},env:function(){return this.node()?"node":this.brow()?"browser":"undefined"},find:function(a,b,d){var e=void 0,g=!1;if(this.arr(b)||
this.obj(b))for(var f in b)if(b.hasOwnProperty(f)&&(d?f==a&&"undefined"!=typeof b[f]&&(g=!0):b[f]==a&&(g=!0),g)){e=d?b[f]:f;break}return e},"float":function(a,b){return/^(\-)?[0-9]*\.?[0-9]+([eE]\+[0-9]+)?$/.test(String(a))&&this.num(a,b)},func:function(a){return"function"===typeof a},grab:function(a,b){var d=null,e=null,g=null;if(this.str(a)&&(!a.match(/\s/)&&this.obj(b))&&(d=a.split("."),g=b,this.arr(d))){for(e in d)if(d.hasOwnProperty(e)){if("undefined"===typeof g[d[e]])return;g=g[d[e]]}if(this.str(d[e])&&
"undefined"!=typeof g)return g}},host:function(a,b){return b&&/^([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])$/.test(a)||/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/.test(a)?!0:!1},incall:function(a,b,d,e){var g=!1,f=!1;d="undefined"==typeof d?!0:d;b="undefined"==typeof b?1:b;if((this.obj(a,!0)||this.arr(a))&&this.num(b,!0)&&0!=b)for(var j in a)if(f=!1,a.hasOwnProperty(j)&&(g=this.typeis(a[j],"String"),!g||d))/^[0-9]+\.([0-9]+([eE]\+[0-9]+)?)?$/.test(a[j])?(a[j]=parseFloat(a[j])+parseFloat(b),
f=!0):/^[0-9]+$/.test(a[j])&&(a[j]=parseInt(a[j])+parseFloat(b),e||(a[j]=Math.round(a[j])),f=!0),f&&(a[j]=g?""+a[j]:a[j]);return a},ini:function(a,b){var d={},e="";if(this.str(a)||this.arr(a)){var g=this.arr(a)?a:a.split("\n");for(aL in g)if(this.str(g[aL])&&(g[aL]=g[aL].replace(/^([^\"]+\;|\;).*$/,"")),g.hasOwnProperty(aL)&&this.str(g[aL]))switch(!0){case /(^\s*\[[^\]]+\]\s*$|^\[[^\]]+\]$)/.test(g[aL]):e=this.trim(g[aL].replace(/(^\s*\[|\]\s*$)/g,""));d[e]=this.obj(d[e])?d[e]:{};break;case /^[^\=]+\=/.test(g[aL]):if(this.str(e)){var f=
g[aL].split("=");if(f[0]){f[0]=this.trim(f[0]);f[1]=this.trim(f[1]);var j=void 0;switch(!0){case this["int"](f[1]):j=parseInt(f[1]);break;case this["float"](f[1]):j=parseFloat(f[1]);break;case /^(on|true|yes|off|false|no)$/i.test(f[1]):j=this.trueish(f[1]);break;case this.str(f[1]):j=f[1]}/\[\]$/.test(f[0])?(f[0]=f[0].replace(/\[\]$/,""),this.arr(d[e][f[0]])?d[e][f[0]].push(j):d[e][f[0]]=[j]):d[e][f[0]]=j}}}}this.func(b)&&b(d);return this.obj(d,!0)?d:void 0},"int":function(a,b){return/^(\-)?[0-9]+$/.test(String(a))&&
this.num(a,b)},ip:function(a,b){var d=null;if(b)return/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(a);
if(/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/.test(a)){if(d=a.split("."),this.arr(d)&&4==d.length)return 1>d[0]||255>d[0]&&0>d[2]||255>d[2]&&0>d[2]||255>d[2]&&1>d[2]||255>d[2]}else if(/[0-9]+/.test(a))return 16777215<parseInt(a)&&4294967296>parseInt(a);return!1},isadog:function(a,b){return this.obj(a)&&"[object RegExp]"===Object.prototype.toString.call(a)&&(!b||this.str(a.source))},isjson:function(a){return this.str(a)&&!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(a.replace(/"(\\.|[^"\\])*"/g,
""))},keys:function(a,b){var d=[];if(this.obj(a,!0)||this.arr(a)){for(var e in a)a.hasOwnProperty(e)&&d.push(e);b&&d.sort()}return d},ltrim:function(a,b){if(!this.str(a))return a;b=this.str(b)?this.rescape(b):" \t\n\r";return a.replace(RegExp("^["+b+"]+","g"),"")},node:function(){var a=this.node;if(!this.str(a._cached)&&!this.bool(a._cached))try{a._cached=this.obj(process)&&this.str(process.version)&&this.obj(exports),a._cached=a._cached?process.version:!1}catch(b){a._cached=!1}return a._cached},
num:function(a,b){var d=parseFloat(a);return"undefined"==typeof a||this.typeis(a,"String")&&""==a||null===a?!1:!isNaN(a)?this.typeis(b,"Number")?d>b:b||0<d:!1},obj:function(a,b){return null!==a&&"object"===typeof a&&(!b||0<this.count(a))},pad:function(a,b,d,e,g){var f="",j=0;this.trueish(g);!this.str(a)&&this.num(a,!0)&&(a=""+a);if(this.str(a)&&this.num(b)){f+=a;d=this.num(d)?""+d:d;d=this.str(d)?d:g?" ":"0";if(f.length==b)return f;if(f.length<b){j=b-f.length;for(a=0;a<j;a++)f=g?f+d:d+f;return f}if(f.length>
b&&this.trueish("undefined"==typeof e?!0:!1))return f.substr(f.length-b,f.length-(f.length-b));if(f.length>b)return a}},rescape:function(a){return!this.str(a)?a:String(a).replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},rpad:function(a,b,d,e){return this.pad(a,b,d,e,!0)},rtrim:function(a,b){if(!this.str(a))return a;b=this.str(b)?this.rescape(b):" \t\n\r";return a.replace(RegExp("["+b+"]+$","g"),"")},search:function(a,b,d){var e=null,g=null,f=null;if(this.obj(b,!0)||this.arr(b))for(e in b){if(e==a)return d?
e:b[e];if(this.obj(b[e],!0)||this.arr(b[e]))if(f=this.search(a,b[e],!0),g=e+"."+f,this.str(f))return d?g:this.walk(g,b)}},serial:function(a){var b=[];if(!this.obj(a))return"";for(var d in a)a.hasOwnProperty(d)&&(this.arr(a[d])?b.push.apply(b,a[d].map(function(a){return escape(d+"[]")+"="+escape(a)})):this.obj(a[d])?b.push(escape(d)+"="+escape(this.serial(a[d]))):this.func(a[d])||b.push(escape(d)+"="+escape(a[d])));return 0<this.count(b)?b.join("&"):!1},str:function(a,b){return"string"===typeof a&&
(b||0<a.length)},time2time:function(a){var b=parseInt(a,10),d={d:0,h:0,m:0,s:0};if(this.num(a,!0))return this.num(b)&&(86400<b&&(d.d=parseInt(b/86400,10),b=parseInt(b-86400*d.d,10)),3600<b&&(d.h=parseInt(b/3600,10),b=parseInt(b-3600*d.h,10)),60<b&&(d.m=parseInt(b/60,10),b=parseInt(b-60*d.m,10)),0<b&&(d.s=b)),d},toke:function(a,b,d,e){if(this.str(a)){var g=String(a);d="undefined"==typeof d||!d?"i":"";b=this.obj(b)?b:{};this.str(e)?e={l:String(e),r:String(e)}:this.arr(e)&&2==e.length&&this.str(e[0])&&
this.str(e[1])?e={l:e[0],r:e[1]}:(e=this.obj(e)?e:{},e.l=this.str(e.l)?e.l:"##",e.r=this.str(e.r)?e.r:"##");for(var f in b)if(b.hasOwnProperty(f)&&this.str(f)&&(this.str(b[f])||this.num(b[f],!0)))a=RegExp(this.rescape(""+e.l+f+e.r),"g"+d),g=g.replace(a,b[f])}return g},trim:function(a,b){if(!this.str(a))return a;b=this.str(b)?this.rescape(b):" \t\n\r";return a.replace(RegExp("(^["+b+"]+|["+b+"]+$)","g"),"")},trueish:function(a){switch(typeof a){case "function":return String(a);case "string":return/^\s*(on|true|yes|1|yar|checked|selected)\s*$/i.test(a);
case "object":return this.obj(a,!0);default:return a?!0:!1}},txt2html:function(a,b){var d=!1,e=["&",'"',"<",">"],g=""+a,f=null,j={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;","\u00a9":"&copy;","\u00ae":"&reg;"};if(this.str(a)){this.obj(this.txt2html._cache)||(this.txt2html._cache={});this.typeis(b,"Boolean")?d=b:this.arr(b)&&(e=b,d=!1);for(var h=0;h<a.length;h++)if(this.str(a[h])&&(f=RegExp(this.rescape(a[h]),"g"),this.str(this.txt2html._cache[a[h]])||(this.txt2html._cache[a[h]]=this.str(j[a[h]])?
j[a[h]]:"&#"+a[h].charCodeAt(0)+";"),d||this.num(this.find(a[h],e),-1)))g=g.replace(f,this.txt2html._cache[a[h]]);return g}},typeis:function(a,b){if("undefined"!=typeof a&&this.str(b))return Object.prototype.toString.call(a)==="[object "+b+"]"?!0:this.obj(a)&&a.constructor.name==b?!0:!1},unserial:function(a){var b={};if(this.str(a)){a=a.replace(/^.*\?/,"");a=a.split("&");for(var d in a)if(this.str(a[d])){var e=a[d].match(/^([^=]+)=(.*)$/);e&&this.str(e[1])&&this.str(e[2])&&(b[e[1]]=e[2])}}return 0<
this.count(b)?b:void 0},values:function(a){var b=[];if(this.obj(a,!0)||this.arr(a))for(var d in a)a.hasOwnProperty(d)&&b.push(a[d]);return b},walk:function(a,b){var d,e,g;if(this.str(a)&&/^[a-zA-Z0-9\_\.\[\]\'\"]+$/.test(a)&&(d=a.split(/[\.\[]/g),this.num(d.length))){g=bpmv.obj(b,!0)||bpmv.arr(b)?b[d[0]]:window[d[0]];for(var f=1;f<d.length;f++)if(d[f]=this.trim(d[f],"'\"]"),"undefined"!=typeof g[d[f]])g=g[d[f]];else return;"undefined"!==typeof g&&(e=g);return e}},whatis:function(a){if(this.obj(a)&&
a.constructor&&this.str(a.constructor.name))return a.constructor.name;var b=Object.prototype.toString.call(a),d=/^\[[oO]bject ([^\]]+)\]/;null===a&&(b="null");NaN===a&&(b="NaN");"undefined"===typeof a&&(b="undefined");this.str(b)&&d.test(b)&&(b=b.match(d).pop());if(this.str(b))return b},wild:function(a,b,d){var e=!1;this.str(a)&&this.str(b)&&(a==b?e=a:(d=this.str(d)?this.rescape(d):this.rescape("*"),b.match(RegExp(d))&&(b="^"+String(this.rescape(b)).replace(RegExp(this.rescape(d),"g"),".*")+"$",a.match(RegExp(b))&&
(e=a))));return e},wrapped:function(a,b,d,e){var g=null,f=[],h=0,l=0,k=null;b="undefined"==typeof b?80:b;d=!this.str(d)?"\n":d;e=!this.str(e)?"":e;if(this.str(a)&&this.num(b)){k=(""+a).replace(/(\n|\r|\t)/," ").split(/\s+/);for(f=[];0<k.length;){g="";for(l=h;(""+e+g+" "+k[0]).length<b;){g+=k.shift()+" ";if(1>k.length)break;h++}l===h&&0<k.length&&(g+=(this.str(g)?g:"")+k.shift());this.str(g)&&f.push(e+this.trim(g))}}return f.join(d)}};h.node()?exports[h._cfg.varName]=h:"object"==typeof us&&h.obj(us.ebpm)&&
!h.obj(us.ebpm.v)?us.ebpm.v=h:"object"==typeof BPMV_ATTACH&&!h.obj(BPMV_ATTACH[h._cfg.varName])?BPMV_ATTACH[h._cfg.varName]=h:h.obj(window)&&(window[h._cfg.varName]=h)})();