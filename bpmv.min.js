(function(){var h,n=/[a-zA-Z]/,p=/^(\-)?[0-9]*\.?[0-9]+([eE]\+[0-9]+)?$/,l=/^[\+\-]?[0-9]+\.([0-9]+)?$/,m=/^[\+\-]?[0-9]+\.([0-9]+([eE]\+[0-9]+)?)?$/,q=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,r=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,
s=/^[\+\-]?[0-9]+$/;a:{h=null;if("object"==typeof document&&"function"==typeof document.getElementsByTagName&&(h=document.getElementsByTagName("script"),"object"==typeof h&&0<h.length)){h=h[h.length-1];break a}h=void 0}h={_cfg:{tag:h,varName:"string"===typeof BPMV_VARNAME?""+BPMV_VARNAME:"bpmv",version:"1.01"},arr:function(a,b){return this.bool(b)?Boolean(this.obj(a)&&"[object Array]"===Object.prototype.toString.call(a)&&(b||0<a.length)):!isNaN(b)&&-1<b?Boolean(this.obj(a)&&"[object Array]"===Object.prototype.toString.call(a)&&
a.length==parseInt(b,10)):Boolean(this.obj(a)&&"[object Array]"===Object.prototype.toString.call(a)&&0<a.length)},basename:function(a){var b,d=!1,e,f;this.str(a)&&(f=a.match(/^[^:]+:\/\//),this.arr(f)&&(f=f.shift()),e=this.rtrim(a,"/\\"),b=!1,/\//.test(e)?b=e.split("/"):/\\/.test(e)&&(b=e.split("\\")),this.arr(b)&&(d=b.pop()),this.str(f)&&(-1===d.indexOf(f)&&a.indexOf(d)===f.length)&&(d=f+d));return this.str(d)?d:a},bool:function(a){return"boolean"==typeof a},brow:function(){return this.obj(window)&&
this.obj(navigator)},ccase:function(a,b,d){var e,f;if(!this.str(a))return a;f=this.str(b)?b.split(/\,/):f;f=this.arr(b)?Array.apply(null,b):f;f=this.arr(f)?f:[" ","_","-","\r","\n"];f.map(function(a){return this.num(this.find(a,["-","\\"]),!0)?"\\"+a:""+a},this);b=RegExp("(["+f.join("\\")+"][a-z])","g");e=RegExp("["+f.join("\\")+"]");a=a.replace(b,function(a){return a.toUpperCase().replace(e,"")});if(this.str(a))return a=d?a.substring(0,1).toUpperCase()+a.substring(1):a.substring(0,1).toLowerCase()+
a.substring(1)},clone:function(a,b){var d,e;switch(typeof a){case "boolean":d=a;break;case "function":d=function(){return a.apply(a,arguments)};break;case "number":d=-1<(""+a).indexOf(".")?parseFloat(a):parseInt(a);break;case "object":if("[object Array]"===Object.prototype.toString.call(a))d=Array.apply(null,a);else if(d=this.func(a.constructor)?a.constructor.apply(a,[]):{},this.obj(d))for(e in a)d[e]=a[e];break;case "string":d=""+a}if("undefined"!=typeof d&&b){for(e in a)a.hasOwnProperty(e)&&(d[e]=
this.clone(a[e]));d=a}return d},cook:function(a,b,d){if(this.obj(document)){var e=(new String(document.cookie)).split(/; ?/),f={},g=null;a=this.trim(a);if(this.str(a)&&"undefined"!=typeof b){if(this.str(d)||(d=(new Date((new Date).getTime()+2147483647)).toGMTString()),g=a+"="+escape(b)+";expires="+d+";path=/",document.cookie=g)return this.cook(a)}else{for(aC in e)"function"==typeof e[aC].match&&(b=e[aC].match(/[^=]+/)+"",""!==b&&(kV=unescape(e[aC].replace(RegExp("^"+b+"="),""))),f[b]=kV);if(void 0===
a)return f;if(this.obj(f)&&this.str(f[a]))return f[a]}}},count:function(a){if(this.arr(a)&&this.num(a.length))return a.length;var b=0;if(this.obj(a))for(var d in a)a.hasOwnProperty(d)&&++b;return b},date:function(a){return"[object Date]"===Object.prototype.toString.call(a)},dirname:function(a){var b=!1;this.str(a)&&(/\//.test(a)?b=a.replace(/\/[^\/]+$/,""):/\\/.test(a)&&(b=a.replace(/\\[^\\]+$/,"")));return this.str(b)?b:a},ego:function(a){this.obj(this.ego.defOpts)||(this.ego.defOpts={len:12,prefix:"",
charset:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",useTime:!0,absLen:!1,delim:"_"});this.obj(this.ego.usedIds)||(this.ego.usedIds={});this.obj(a)||(a={});for(var b in this.ego.defOpts)this.ego.defOpts.hasOwnProperty(b)&&"undefined"==typeof a[b]&&(a[b]=this.ego.defOpts[b]);a.ts=(new Date).getTime().toString();b="";for(var d=!1,e=!1==a.useTime?0:a.ts.length+a.delim.toString().length,e=!0==a.absLen?a.len-e:a.len,f=0;f<e;f++){var g=Math.floor(Math.random()*a.charset.length);c=(""+a.charset).substring(g,g+
1);!1==d?null==c.match(n)?f--:(b+=c,d=!0):null==c.match(RegExp("["+a.charset+"]"))?f--:b+=c}b=!1==a.useTime?b:b+a.delim+a.ts;b=this.str(a.prefix)?a.prefix+a.delim+b:b;if(this.str(b))return"undefined"==typeof this.ego.usedIds[b]?(this.ego.usedIds[b]=!0,b):this.ego(a)},env:function(){if(this.node())return"node";if(this.brow())return"browser"},find:function(a,b,d){var e=void 0,f=!1;if(this.arr(b)||this.obj(b))for(var g in b)if(b.hasOwnProperty(g)&&(d?g==a&&"undefined"!=typeof b[g]&&(f=!0):b[g]===a&&
(f=!0),f)){e=d?b[g]:g;break}return e},"float":function(a,b){return p.test(String(a))&&this.num(a,b)},func:function(a){return"function"===typeof a},grab:function(a,b){var d=null,e=null,f=null;if(this.str(a)&&(!a.match(/\s/)&&this.obj(b))&&(d=a.split("."),f=b,this.arr(d))){for(e in d)if(d.hasOwnProperty(e)){if("undefined"===typeof f[d[e]])return;f=f[d[e]]}if(this.str(d[e])&&"undefined"!=typeof f)return f}},host:function(a,b){return b&&/^([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])$/.test(a)||/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/.test(a)?
!0:!1},incall:function(a,b,d,e){var f=!1,g=!1,h,k=0,g=0;d="undefined"==typeof d?!0:d;b="undefined"==typeof b?1:b;if((this.obj(a,!0)||this.arr(a))&&this.num(b,!0)&&0!=b){m.test(b)?(h=parseFloat(b),k=l.test(b)?this.reverse(b).indexOf("."):0,k=0<k?k:0):h=parseInt(b);for(var j in a)if(g=!1,a.hasOwnProperty(j)&&(f=this.typeis(a[j],"String"),!f||d))m.test(a[j])||!e&&0<k?(g=l.test(a[j])?this.reverse(a[j]).indexOf("."):0,g=0<g?g:0,g=g>k?g:k,a[j]=parseFloat(a[j]+h),0<g&&(a[j]=parseFloat(a[j].toFixed(g))),
g=!0):s.test(a[j])&&(a[j]=parseInt(a[j])+h,e&&(a[j]=Math.round(a[j])),g=!0),g&&f&&(a[j]=""+a[j])}return a},ini:function(a,b){var d={},e="";if(this.str(a)||this.arr(a)){var f=this.arr(a)?a:a.split("\n");for(aL in f)if(this.str(f[aL])&&(f[aL]=f[aL].replace(/^([^\"]+\;|\;).*$/,"")),f.hasOwnProperty(aL)&&this.str(f[aL]))switch(!0){case /(^\s*\[[^\]]+\]\s*$|^\[[^\]]+\]$)/.test(f[aL]):e=this.trim(f[aL].replace(/(^\s*\[|\]\s*$)/g,""));d[e]=this.obj(d[e])?d[e]:{};break;case /^[^\=]+\=/.test(f[aL]):if(this.str(e)){var g=
f[aL].split("=");if(g[0]){g[0]=this.trim(g[0]);g[1]=this.trim(g[1]);var h=void 0;switch(!0){case this["int"](g[1]):h=parseInt(g[1]);break;case this["float"](g[1]):h=parseFloat(g[1]);break;case /^(on|true|yes|off|false|no)$/i.test(g[1]):h=this.trueish(g[1]);break;case this.str(g[1]):h=g[1]}/\[\]$/.test(g[0])?(g[0]=g[0].replace(/\[\]$/,""),this.arr(d[e][g[0]])?d[e][g[0]].push(h):d[e][g[0]]=[h]):d[e][g[0]]=h}}}}this.func(b)&&b(d);return this.obj(d,!0)?d:void 0},"int":function(a,b){return/^(\-)?[0-9]+$/.test(String(a))&&
this.num(a,b)},ip:function(a,b){var d=null;if(b)return r.test(a);if(q.test(a)){if(d=a.split("."),this.arr(d)&&4==d.length)return 1>d[0]||255>d[0]&&0>d[2]||255>d[2]&&0>d[2]||255>d[2]&&1>d[2]||255>d[2]}else if(/[0-9]+/.test(a))return 16777215<parseInt(a)&&4294967296>parseInt(a);return!1},isadog:function(a,b){return this.obj(a)&&"[object RegExp]"===Object.prototype.toString.call(a)&&(!b||this.str(a.source))},isjson:function(a){return this.str(a)&&!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(a.replace(/"(\\.|[^"\\])*"/g,
""))},keys:function(a,b){var d=[];if(this.obj(a,!0)||this.arr(a)){for(var e in a)a.hasOwnProperty(e)&&d.push(e);b&&d.sort()}return d},ltrim:function(a,b){if(!this.str(a))return a;b=this.str(b)?this.rescape(b):" \t\n\r";return a.replace(RegExp("^["+b+"]+","g"),"")},node:function(){var a=this.node;if(!this.str(a._cached)&&!this.bool(a._cached))try{a._cached=this.obj(process)&&this.str(process.version)&&this.obj(exports),a._cached=a._cached?process.version:!1}catch(b){a._cached=!1}return a._cached},
num:function(a,b){var d=parseFloat(a);return"undefined"==typeof a||this.typeis(a,"String")&&""==a||null===a?!1:!isNaN(a)?this.typeis(b,"Number")?d>b:b||0<d:!1},obj:function(a,b){return null!==a&&"object"===typeof a&&(!b||0<this.count(a))},pad:function(a,b,d,e,f){var g="",h=0;this.trueish(f);!this.str(a)&&this.num(a,!0)&&(a=""+a);if(this.str(a)&&this.num(b)){g+=a;d=this.num(d)?""+d:d;d=this.str(d)?d:f?" ":"0";if(g.length==b)return g;if(g.length<b){h=b-g.length;for(a=0;a<h;a++)g=f?g+d:d+g;return g}if(g.length>
b&&this.trueish("undefined"==typeof e?!0:!1))return g.substr(g.length-b,g.length-(g.length-b));if(g.length>b)return a}},rescape:function(a){return!this.str(a)?a:String(a).replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},reverse:function(a){return(""+a).split("").reverse().join("")},rpad:function(a,b,d,e){return this.pad(a,b,d,e,!0)},rtrim:function(a,b){if(!this.str(a))return a;b=this.str(b)?this.rescape(b):" \t\n\r";return a.replace(RegExp("["+b+"]+$","g"),"")},search:function(a,b,d){var e=null,f=null,
g=null;if(this.obj(b,!0)||this.arr(b))for(e in b){if(e==a)return d?e:b[e];if(this.obj(b[e],!0)||this.arr(b[e]))if(g=this.search(a,b[e],!0),f=e+"."+g,this.str(g))return d?f:this.walk(f,b)}},serial:function(a){var b=[];if(!this.obj(a))return"";for(var d in a)a.hasOwnProperty(d)&&(this.arr(a[d])?b.push.apply(b,a[d].map(function(a){return escape(d+"[]")+"="+escape(a)})):this.obj(a[d])?b.push(escape(d)+"="+escape(this.serial(a[d]))):this.func(a[d])||b.push(escape(d)+"="+escape(a[d])));return 0<this.count(b)?
b.join("&"):!1},str:function(a,b){return"string"===typeof a&&(b||0<a.length)},sum:function(a,b){var d=0,e;if(this.num(a))return a;if(this.obj(a))for(e in a)a.hasOwnProperty(e)&&(this.obj(a[e])&&!b?d=1*d+sum(a[e]):this.num(a[e],!0)&&(d=1*d+a[e]));return d},time2time:function(a){var b=parseInt(a,10),d={d:0,h:0,m:0,s:0};if(this.num(a,!0))return this.num(b)&&(86400<b&&(d.d=parseInt(b/86400,10),b=parseInt(b-86400*d.d,10)),3600<b&&(d.h=parseInt(b/3600,10),b=parseInt(b-3600*d.h,10)),60<b&&(d.m=parseInt(b/
60,10),b=parseInt(b-60*d.m,10)),0<b&&(d.s=b)),d},toke:function(a,b,d,e){if(this.str(a)){var f=String(a);d="undefined"==typeof d||!d?"i":"";b=this.obj(b)?b:{};this.str(e)?e={l:String(e),r:String(e)}:this.arr(e)&&2==e.length&&this.str(e[0])&&this.str(e[1])?e={l:e[0],r:e[1]}:(e=this.obj(e)?e:{},e.l=this.str(e.l)?e.l:"##",e.r=this.str(e.r)?e.r:"##");for(var g in b)if(b.hasOwnProperty(g)&&this.str(g)&&(this.str(b[g])||this.num(b[g],!0)))a=RegExp(this.rescape(""+e.l+g+e.r),"g"+d),f=f.replace(a,b[g])}return f},
trim:function(a,b){if(!this.str(a))return a;b=this.str(b)?this.rescape(b):" \t\n\r";return a.replace(RegExp("(^["+b+"]+|["+b+"]+$)","g"),"")},trueish:function(a){switch(typeof a){case "function":return String(a);case "string":return/^\s*(on|true|yes|1|yar|checked|selected)\s*$/i.test(a);case "object":return this.obj(a,!0);default:return a?!0:!1}},txt2html:function(a,b){var d=!1,e=["&",'"',"<",">"],f=""+a,g=null,h={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;","\u00a9":"&copy;","\u00ae":"&reg;"};
if(this.str(a)){this.obj(this.txt2html._cache)||(this.txt2html._cache={});this.typeis(b,"Boolean")?d=b:this.arr(b)&&(e=b,d=!1);for(var k=0;k<a.length;k++)if(this.str(a[k])&&(g=RegExp(this.rescape(a[k]),"g"),this.str(this.txt2html._cache[a[k]])||(this.txt2html._cache[a[k]]=this.str(h[a[k]])?h[a[k]]:"&#"+a[k].charCodeAt(0)+";"),d||this.num(this.find(a[k],e),-1)))f=f.replace(g,this.txt2html._cache[a[k]]);return f}},typeis:function(a,b){if("undefined"!=typeof a&&this.str(b))return Object.prototype.toString.call(a)===
"[object "+b+"]"?!0:this.obj(a)&&a.constructor.name==b?!0:!1},unserial:function(a){var b={};if(this.str(a)){a=a.replace(/^.*\?/,"");a=a.split("&");for(var d in a)if(this.str(a[d])){var e=a[d].match(/^([^=]+)=(.*)$/);e&&this.str(e[1])&&this.str(e[2])&&(b[e[1]]=e[2])}}return 0<this.count(b)?b:void 0},values:function(a){var b=[];if(this.obj(a,!0)||this.arr(a))for(var d in a)a.hasOwnProperty(d)&&b.push(a[d]);return b},walk:function(a,b){var d,e,f;if(this.str(a)&&/^[a-zA-Z0-9\_\.\[\]\'\"]+$/.test(a)&&
(d=a.split(/[\.\[]/g),this.num(d.length))){f=bpmv.obj(b,!0)||bpmv.arr(b)?b[d[0]]:window[d[0]];for(var g=1;g<d.length;g++)if(d[g]=this.trim(d[g],"'\"]"),"undefined"!=typeof f[d[g]])f=f[d[g]];else return;"undefined"!==typeof f&&(e=f);return e}},whatis:function(a){if(this.obj(a)&&a.constructor&&this.str(a.constructor.name))return a.constructor.name;var b=Object.prototype.toString.call(a),d=/^\[[oO]bject ([^\]]+)\]/;null===a&&(b="null");NaN===a&&(b="NaN");"undefined"===typeof a&&(b="undefined");this.str(b)&&
d.test(b)&&(b=b.match(d).pop());if(this.str(b))return b},wild:function(a,b,d){var e=!1;this.str(a)&&this.str(b)&&(a==b?e=a:(d=this.str(d)?this.rescape(d):this.rescape("*"),b.match(RegExp(d))&&(b="^"+String(this.rescape(b)).replace(RegExp(this.rescape(d),"g"),".*")+"$",a.match(RegExp(b))&&(e=a))));return e},wrapped:function(a,b,d,e){var f=null,g=[],h=0,k=0,j=null;b="undefined"==typeof b?80:b;d=!this.str(d)?"\n":d;e=!this.str(e)?"":e;if(this.str(a)&&this.num(b)){j=(""+a).replace(/(\n|\r|\t)/," ").split(/\s+/);
for(g=[];0<j.length;){f="";for(k=h;(""+e+f+" "+j[0]).length<b;){f+=j.shift()+" ";if(1>j.length)break;h++}k===h&&0<j.length&&(f+=(this.str(f)?f:"")+j.shift());this.str(f)&&g.push(e+this.trim(f))}}return g.join(d)}};h.node()?exports[h._cfg.varName]=h:"object"==typeof us&&h.obj(us.ebpm)&&!h.obj(us.ebpm.v)?us.ebpm.v=h:"object"==typeof BPMV_ATTACH&&!h.obj(BPMV_ATTACH[h._cfg.varName])?BPMV_ATTACH[h._cfg.varName]=h:h.obj(window)&&(window[h._cfg.varName]=h)})();