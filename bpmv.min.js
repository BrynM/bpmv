
(function(){var h;a:{h=null;if("object"==typeof document&&"function"==typeof document.getElementsByTagName&&(h=document.getElementsByTagName("script"),"object"==typeof h&&0<h.length)){h=h[h.length-1];break a}h=void 0}h={_cfg:{tag:h,varName:"string"===typeof BPMV_VARNAME?""+BPMV_VARNAME:"bpmv",version:"1.1-dev"},arr:function(a,b){return this.bool(b)?Boolean(this.obj(a)&&"[object Array]"===Object.prototype.toString.call(a)&&(b||0<a.length)):!isNaN(b)&&-1<b?Boolean(this.obj(a)&&"[object Array]"===Object.prototype.toString.call(a)&&
a.length==parseInt(b,10)):Boolean(this.obj(a)&&"[object Array]"===Object.prototype.toString.call(a)&&0<a.length)},basename:function(a){var b=!1;if(this.str(a)){var d=this.rtrim(a,"/\\"),e=!1;/\//.test(d)?e=d.split("/"):/\\/.test(d)&&(e=d.split("\\"));this.arr(e)&&(b=e.pop())}return this.str(b)?b:a},bool:function(a){return"boolean"==typeof a},brow:function(){return this.obj(window)&&this.obj(navigator)},ccase:function(a,b){if(!this.str(a))return a;b=this.str(b)?b.split(/\,/):b;b=this.arr(b)?b:[" ",
"_","-"];var d=RegExp("(["+b.join("\\")+"][a-z])","g"),e=RegExp("["+b.join("\\")+"]");return a.replace(d,function(a){return a.toUpperCase().replace(e,"")})},cook:function(a,b,d){if(this.obj(document)){var e=(new String(document.cookie)).split(/; ?/),f={},g=null;a=this.trim(a);if(this.str(a)&&"undefined"!=typeof b){if(this.str(d)||(d=(new Date((new Date).getTime()+2147483647)).toGMTString()),g=a+"="+escape(b)+";expires="+d+";path=/",document.cookie=g)return this.cook(a)}else{for(aC in e)"function"==
typeof e[aC].match&&(b=e[aC].match(/[^=]+/)+"",""!==b&&(kV=unescape(e[aC].replace(RegExp("^"+b+"="),""))),f[b]=kV);if(void 0===a)return f;if(this.obj(f)&&this.str(f[a]))return f[a]}}},count:function(a){if(this.arr(a)&&this.num(a.length))return a.length;var b=0;if(this.obj(a))for(var d in a)a.hasOwnProperty(d)&&++b;return b},date:function(a){return"[object Date]"===Object.prototype.toString.call(a)},dirname:function(a){var b=!1;this.str(a)&&(/\//.test(a)?b=a.replace(/\/[^\/]+$/,""):/\\/.test(a)&&(b=
a.replace(/\\[^\\]+$/,"")));return this.str(b)?b:a},ego:function(a){this.obj(this.ego.defOpts)||(this.ego.defOpts={len:12,prefix:"",charset:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",useTime:!0,absLen:!1,delim:"_"});this.obj(this.ego.usedIds)||(this.ego.usedIds={});this.obj(a)||(a={});for(var b in this.ego.defOpts)this.ego.defOpts.hasOwnProperty(b)&&"undefined"==typeof a[b]&&(a[b]=this.ego.defOpts[b]);a.ts=(new Date).getTime().toString();b="";for(var d=!1,e=!1==a.useTime?0:a.ts.length+a.delim.toString().length,
e=!0==a.absLen?a.len-e:a.len,f=0;f<e;f++){var g=Math.floor(Math.random()*a.charset.length);c=a.charset.substring(g,g+1);!1==d?null==c.match(/[a-zA-Z]/)?f--:(b+=c,d=!0):null==c.match(RegExp("["+a.charset+"]"))?f--:b+=c}b=!1==a.useTime?b:b+a.delim+a.ts;b=this.str(a.prefix)?a.prefix+a.delim+b:b;return"undefined"==typeof this.ego.usedIds[b]?(this.ego.usedIds[b]=!0,b):this.ego(a)},env:function(){return this.node()?"node":this.brow()?"browser":"undefined"},find:function(a,b,d){var e=void 0,f=!1;if(this.arr(b)||
this.obj(b))for(var g in b)if(b.hasOwnProperty(g)&&(d?g==a&&"undefined"!=typeof b[g]&&(f=!0):b[g]==a&&(f=!0),f)){e=d?b[g]:g;break}return e},"float":function(a,b){return/^(\-)?[0-9]*\.?[0-9]+([eE]\+[0-9]+)?$/.test(String(a))&&this.num(a,b)},func:function(a){return"function"===typeof a},grab:function(a,b){var d=null,e=null,f=null;if(this.str(a)&&(!a.match(/\s/)&&this.obj(b))&&(d=a.split("."),f=b,this.arr(d))){for(e in d)if(d.hasOwnProperty(e)){if("undefined"===typeof f[d[e]])return;f=f[d[e]]}if(this.str(d[e])&&
"undefined"!=typeof f)return f}},host:function(a,b){return b&&/^([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])$/.test(a)||/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/.test(a)?!0:!1},incall:function(a,b,d,e){var f=!1,g=!1;d="undefined"==typeof d?!0:d;b="undefined"==typeof b?1:b;if((this.obj(a,!0)||this.arr(a))&&this.num(b,!0)&&0!=b)for(var j in a)if(g=!1,a.hasOwnProperty(j)&&(f=this.typeis(a[j],"String"),!f||d))/^[0-9]+\.([0-9]+([eE]\+[0-9]+)?)?$/.test(a[j])?(a[j]=parseFloat(a[j])+parseFloat(b),
g=!0):/^[0-9]+$/.test(a[j])&&(a[j]=parseInt(a[j])+parseFloat(b),e||(a[j]=Math.round(a[j])),g=!0),g&&(a[j]=f?""+a[j]:a[j]);return a},ini:function(a,b){var d={},e="";if(this.str(a)||this.arr(a)){var f=this.arr(a)?a:a.split("\n");for(aL in f)if(this.str(f[aL])&&(f[aL]=f[aL].replace(/^([^\"]+\;|\;).*$/,"")),f.hasOwnProperty(aL)&&this.str(f[aL]))switch(!0){case /(^\s*\[[^\]]+\]\s*$|^\[[^\]]+\]$)/.test(f[aL]):e=this.trim(f[aL].replace(/(^\s*\[|\]\s*$)/g,""));d[e]=this.obj(d[e])?d[e]:{};break;case /^[^\=]+\=/.test(f[aL]):if(this.str(e)){var g=
f[aL].split("=");if(g[0]){g[0]=this.trim(g[0]);g[1]=this.trim(g[1]);var j=void 0;switch(!0){case this["int"](g[1]):j=parseInt(g[1]);break;case this["float"](g[1]):j=parseFloat(g[1]);break;case /^(on|true|yes|off|false|no)$/i.test(g[1]):j=this.trueish(g[1]);break;case this.str(g[1]):j=g[1]}/\[\]$/.test(g[0])?(g[0]=g[0].replace(/\[\]$/,""),this.arr(d[e][g[0]])?d[e][g[0]].push(j):d[e][g[0]]=[j]):d[e][g[0]]=j}}}}this.func(b)&&b(d);return this.obj(d,!0)?d:void 0},"int":function(a,b){return/^(\-)?[0-9]+$/.test(String(a))&&
this.num(a,b)},ip:function(a,b){var d=null;if(b)return/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(a);
if(/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/.test(a)){if(d=a.split("."),this.arr(d)&&4==d.length)return 1>d[0]||255>d[0]&&0>d[2]||255>d[2]&&0>d[2]||255>d[2]&&1>d[2]||255>d[2]}else if(/[0-9]+/.test(a))return 16777215<parseInt(a)&&4294967296>parseInt(a);return!1},isadog:function(a,b){return this.obj(a)&&"[object RegExp]"===Object.prototype.toString.call(a)&&(!b||this.str(a.source))},keys:function(a){var b=[];if(this.obj(a,!0)||this.arr(a)){for(var d in a)a.hasOwnProperty(d)&&b.push(d);b.sort()}return b},
ltrim:function(a,b){if(!this.str(a))return a;b=this.str(b)?this.rescape(b):" \t\n\r";return a.replace(RegExp("^["+b+"]+","g"),"")},node:function(){var a=this.node;if(!this.str(a._cached)&&!this.bool(a._cached))try{a._cached=this.obj(process)&&this.str(process.version)&&this.obj(exports),a._cached=a._cached?process.version:!1}catch(b){a._cached=!1}return a._cached},num:function(a,b){var d=parseFloat(a);return"undefined"==typeof a||this.typeis(a,"String")&&""==a||null===a?!1:!isNaN(a)?this.typeis(b,
"Number")?d>b:b||0<d:!1},obj:function(a,b){return null!==a&&"object"===typeof a&&(!b||0<this.count(a))},pad:function(a,b,d,e){var f="",g=0;!this.str(a)&&this.num(a)&&(a=""+a);if(this.str(a)&&this.num(b)){f+=a;d=this.num(d)?""+d:d;d=this.str(d)?d:"0";if(f.length==b)return f;if(f.length<b){g=b-f.length;for(a=0;a<g;a++)f=d+f;return f}if(f.length>b&&this.trueish("undefined"==typeof e?!0:!1))return f.substr(f.length-b,f.length-(f.length-b));if(f.length>b)return a}},rescape:function(a){return!this.str(a)?
a:String(a).replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},rtrim:function(a,b){if(!this.str(a))return a;b=this.str(b)?this.rescape(b):" \t\n\r";return a.replace(RegExp("["+b+"]+$","g"),"")},search:function(a,b,d){var e=null,f=null,g=null;if(this.obj(b,!0)||this.arr(b))for(e in b){if(e==a)return d?e:b[e];if(this.obj(b[e],!0)||this.arr(b[e]))if(g=this.search(a,b[e],!0),f=e+"."+g,this.str(g))return d?f:this.walk(f,b)}},serial:function(a){var b=[],d;for(d in a)a.hasOwnProperty(d)&&(this.arr(a[d])?b.push.apply(b,
a[d].map(function(a){return escape(d+"[]")+"="+escape(a)})):this.obj(a[d])?b.push(escape(d)+"="+escape(this.ser(a[d]))):this.func(a[d])||b.push(escape(d)+"="+escape(a[d])));return 0<this.count(b)?b.join("&"):!1},str:function(a,b){return"string"===typeof a&&(b||0<a.length)},time2time:function(a){var b=parseInt(a,10),d={d:0,h:0,m:0,s:0};if(this.num(a,!0))return this.num(b)&&(86400<b&&(d.d=parseInt(b/86400,10),b=parseInt(b-86400*d.d,10)),3600<b&&(d.h=parseInt(b/3600,10),b=parseInt(b-3600*d.h,10)),60<
b&&(d.m=parseInt(b/60,10),b=parseInt(b-60*d.m,10)),0<b&&(d.s=b)),d},toke:function(a,b,d,e){if(this.str(a)){var f=String(a);d="undefined"==typeof d||!d?"i":"";b=this.obj(b)?b:{};this.str(e)?e={l:String(e),r:String(e)}:this.arr(e)&&2==e.length&&this.str(e[0])&&this.str(e[1])?e={l:e[0],r:e[1]}:(e=this.obj(e)?e:{},e.l=this.str(e.l)?e.l:"##",e.r=this.str(e.r)?e.r:"##");for(var g in b)if(b.hasOwnProperty(g)&&this.str(g)&&(this.str(b[g])||this.num(b[g],!0)))a=RegExp(this.rescape(""+e.l+g+e.r),"g"+d),f=f.replace(a,
b[g])}return f},trim:function(a,b){if(!this.str(a))return a;b=this.str(b)?this.rescape(b):" \t\n\r";return a.replace(RegExp("(^["+b+"]+|["+b+"]+$)","g"),"")},trueish:function(a){switch(typeof a){case "function":return String(a);case "string":return/^\s*(on|true|yes|1|yar|checked|selected)\s*$/i.test(a);case "object":return this.obj(a,!0);default:return a?!0:!1}},txt2html:function(a,b){var d=!1,e=["&",'"',"<",">"],f=""+a,g=null,j={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;","\u00a9":"&copy;","\u00ae":"&reg;"};
if(this.str(a)){this.obj(this.txt2html._cache)||(this.txt2html._cache={});this.typeis(b,"Boolean")?d=b:this.arr(b)&&(e=b,d=!1);for(var h=0;h<a.length;h++)if(this.str(a[h])&&(g=RegExp(this.rescape(a[h]),"g"),this.str(this.txt2html._cache[a[h]])||(this.txt2html._cache[a[h]]=this.str(j[a[h]])?j[a[h]]:"&#"+a[h].charCodeAt(0)+";"),d||this.num(this.find(a[h],e),-1)))f=f.replace(g,this.txt2html._cache[a[h]]);return f}},typeis:function(a,b){if("undefined"!=typeof a&&this.str(b))return Object.prototype.toString.call(a)===
"[object "+b+"]"?!0:this.obj(a)&&a.constructor.name==b?!0:!1},unserial:function(a){var b={};if(this.str(a)){a=a.replace(/^.*\?/,"");a=a.split("&");for(var d in a)if(this.str(a[d])){var e=a[d].match(/^([^=]+)=(.*)$/);e&&this.str(e[1])&&this.str(e[2])&&(b[e[1]]=e[2])}}return 0<this.count(b)?b:void 0},values:function(a){var b=[];if(this.obj(a,!0)||this.arr(a))for(var d in a)a.hasOwnProperty(d)&&b.push(a[d]);return b},walk:function(a,b){var d,e,f;if(this.str(a)&&/^[a-zA-Z0-9\_\.\[\]\'\"]+$/.test(a)&&
(d=a.split(/[\.\[]/g),this.num(d.length))){f=bpmv.obj(b,!0)||bpmv.arr(b)?b[d[0]]:window[d[0]];for(var g=1;g<d.length;g++)if(d[g]=this.trim(d[g],"'\"]"),"undefined"!=typeof f[d[g]])f=f[d[g]];else return;"undefined"!==typeof f&&(e=f);return e}},whatis:function(a){if(this.obj(a)&&this.obj(a.constructor)&&this.str(a.constructor.name))return a.constructor.name;var b=Object.prototype.toString.call(a),d=/^\[[oO]bject ([^\]]+)\]/;null===a&&(b="null");isNaN(a)&&(b="NaN");"undefined"===typeof a&&(b="undefined");
this.str(b)&&d.test(b)&&(b=b.match(d).pop());if(this.str(b))return b},wild:function(a,b,d){var e=!1;this.str(a)&&this.str(b)&&(a==b?e=a:(d=this.str(d)?this.rescape(d):this.rescape("*"),b.match(RegExp(d))&&(b="^"+String(this.rescape(b)).replace(RegExp(this.rescape(d),"g"),".*")+"$",a.match(RegExp(b))&&(e=a))));return e},wrapped:function(a,b,d,e){var f=null,g=[],h=0,l=0,k=null;b="undefined"==typeof b?80:b;d=!this.str(d)?"\n":d;e=!this.str(e)?"":e;if(this.str(a)&&this.num(b)){k=(""+a).replace(/(\n|\r|\t)/,
" ").split(/\s+/);for(g=[];0<k.length;){f="";for(l=h;(""+e+f+" "+k[0]).length<b;){f+=k.shift()+" ";if(1>k.length)break;h++}l===h&&0<k.length&&(f+=(this.str(f)?f:"")+k.shift());this.str(f)&&g.push(e+this.trim(f))}}return g.join(d)}};h.node()?exports[h._cfg.varName]=h:"object"==typeof us&&h.obj(us.ebpm)&&!h.obj(us.ebpm.v)?us.ebpm.v=h:"object"==typeof BPMV_ATTACH&&!h.obj(BPMV_ATTACH[h._cfg.varName])?BPMV_ATTACH[h._cfg.varName]=h:h.obj(window)&&(window[h._cfg.varName]=h)})();
