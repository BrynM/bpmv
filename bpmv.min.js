(function(){var a={_cfg:{tag:function(){var a=null;return"object"==typeof document&&"function"==typeof document.getElementsByTagName&&(a=document.getElementsByTagName("script"),"object"==typeof a&&a.length>0)?a[a.length-1]:void 0}(),varName:"string"==typeof BPMV_VARNAME?""+BPMV_VARNAME:"bpmv",version:"1.1-dev"},arr:function(a,b){return this.bool(b)?Boolean(this.obj(a)&&"[object Array]"===Object.prototype.toString.call(a)&&(b||a.length>0)):!isNaN(b)&&b>-1?Boolean(this.obj(a)&&"[object Array]"===Object.prototype.toString.call(a)&&a.length==parseInt(b,10)):Boolean(this.obj(a)&&"[object Array]"===Object.prototype.toString.call(a)&&a.length>0)},basename:function(a){var b=!1;if(this.str(a)){var c=this.rtrim(a,"/\\"),d=!1;/\//.test(c)?d=c.split("/"):/\\/.test(c)&&(d=c.split("\\")),this.arr(d)&&(b=d.pop())}return this.str(b)?b:a},bool:function(a){return"boolean"==typeof a},brow:function(){return this.obj(window)&&this.obj(navigator)},ccase:function(a,b){if(!this.str(a))return a;b=this.str(b)?b.split(/\,/):b,b=this.arr(b)?b:[" ","_","-"];var c=new RegExp("(["+b.join("\\")+"][a-z])","g"),d=new RegExp("["+b.join("\\")+"]");return a.replace(c,function(a){return a.toUpperCase().replace(d,"")})},cook:function(a,b,c){if(this.obj(document)){var d=new String(document.cookie).split(/; ?/),e={},f=null,a=this.trim(a);if(this.str(a)&&"undefined"!=typeof b){if(this.str(c)||(c=new Date((new Date).getTime()+parseInt(31536e6)).toGMTString()),f=a+"="+escape(b)+";expires="+c+";path=/",document.cookie=f)return this.cook(a)}else{for(aC in d)if("function"==typeof d[aC].match){var g=d[aC].match(/[^=]+/)+"";if(""!==g){var h=new RegExp("^"+g+"=");kV=unescape(d[aC].replace(h,""))}e[g]=kV}if(void 0===a)return e;if(this.obj(e)&&this.str(e[a]))return e[a]}}},count:function(a){if(this.arr(a)&&this.num(a.length))return a.length;var b=0;if(this.obj(a))for(var c in a)a.hasOwnProperty(c)&&++b;return b},date:function(a){return"[object Date]"===Object.prototype.toString.call(a)},dirname:function(a){var b=!1;return this.str(a)&&(/\//.test(a)?b=a.replace(/\/[^\/]+$/,""):/\\/.test(a)&&(b=a.replace(/\\[^\\]+$/,""))),this.str(b)?b:a},ego:function(a){this.obj(this.ego.defOpts)||(this.ego.defOpts={len:12,prefix:"",charset:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",useTime:!0,absLen:!1,delim:"_"}),this.obj(this.ego.usedIds)||(this.ego.usedIds={}),this.obj(a)||(a={});for(var b in this.ego.defOpts)this.ego.defOpts.hasOwnProperty(b)&&"undefined"==typeof a[b]&&(a[b]=this.ego.defOpts[b]);var d=new Date;a.ts=d.getTime().toString();for(var e="",f=!1,g=0==a.useTime?0:a.ts.length+a.delim.toString().length,h=1==a.absLen?a.len-g:a.len,i=0;h>i;i++){var j=Math.floor(Math.random()*a.charset.length);if(c=a.charset.substring(j,j+1),0==f)null==c.match(/[a-zA-Z]/)?i--:(e+=c,f=!0);else{var k=new RegExp("["+a.charset+"]");null==c.match(k)?i--:e+=c}}return e=0==a.useTime?e:e+a.delim+a.ts,e=this.str(a.prefix)?a.prefix+a.delim+e:e,"undefined"==typeof this.ego.usedIds[e]?(this.ego.usedIds[e]=!0,e):this.ego(a)},env:function(){return this.node()?"node":this.brow()?"browser":"undefined"},find:function(a,b,c){var d=void 0,e=!1;if(this.arr(b)||this.obj(b))for(var f in b)if(b.hasOwnProperty(f)&&(c?f==a&&"undefined"!=typeof b[f]&&(e=!0):b[f]==a&&(e=!0),e)){d=c?b[f]:f;break}return d},"float":function(a,b){return/^(\-)?[0-9]*\.?[0-9]+([eE]\+[0-9]+)?$/.test(String(a))&&this.num(a,b)},func:function(a){return"function"==typeof a},grab:function(a,b){var c=null,d=null,e=null;if(this.str(a)&&!a.match(/\s/)&&this.obj(b)&&(c=a.split("."),e=b,this.arr(c))){for(d in c)if(c.hasOwnProperty(d)){if("undefined"==typeof e[c[d]])return;e=e[c[d]]}if(this.str(c[d])&&"undefined"!=typeof e)return e}},host:function(a,b){return b&&/^([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])$/.test(a)||/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/.test(a)?!0:!1},incall:function(a,b,c,d){var e=!1,f=!1;if(c="undefined"==typeof c?!0:c,b="undefined"==typeof b?1:b,(this.obj(a,!0)||this.arr(a))&&this.num(b,!0)&&0!=b)for(var g in a)if(f=!1,a.hasOwnProperty(g)){if(e=this.typeis(a[g],"String"),e&&!c)continue;/^[0-9]+\.([0-9]+([eE]\+[0-9]+)?)?$/.test(a[g])?(a[g]=parseFloat(a[g])+parseFloat(b),f=!0):/^[0-9]+$/.test(a[g])&&(a[g]=parseInt(a[g])+parseFloat(b),d||(a[g]=Math.round(a[g])),f=!0),f&&(a[g]=e?""+a[g]:a[g])}return a},ini:function(a,b){var c={},d="";if(this.str(a)||this.arr(a)){var e=this.arr(a)?a:a.split("\n");for(aL in e)if(this.str(e[aL])&&(e[aL]=e[aL].replace(/^([^\"]+\;|\;).*$/,"")),e.hasOwnProperty(aL)&&this.str(e[aL]))switch(!0){case/(^\s*\[[^\]]+\]\s*$|^\[[^\]]+\]$)/.test(e[aL]):d=this.trim(e[aL].replace(/(^\s*\[|\]\s*$)/g,"")),c[d]=this.obj(c[d])?c[d]:{};break;case/^[^\=]+\=/.test(e[aL]):if(this.str(d)){var f=e[aL].split("=");if(f[0]){f[0]=this.trim(f[0]),f[1]=this.trim(f[1]);var g=void 0;switch(!0){case this["int"](f[1]):g=parseInt(f[1]);break;case this["float"](f[1]):g=parseFloat(f[1]);break;case/^(on|true|yes|off|false|no)$/i.test(f[1]):g=this.trueish(f[1]);break;case this.str(f[1]):g=f[1];break;default:}/\[\]$/.test(f[0])?(f[0]=f[0].replace(/\[\]$/,""),this.arr(c[d][f[0]])?c[d][f[0]].push(g):c[d][f[0]]=[g]):c[d][f[0]]=g}}break;default:}}return this.func(b)&&b(c),this.obj(c,!0)?c:void 0},"int":function(a,b){return/^(\-)?[0-9]+$/.test(String(a))&&this.num(a,b)},ip:function(a,b){var c=null;if(b)return/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(a);if(/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/.test(a)){if(c=a.split("."),this.arr(c)&&4==c.length)return 1>c[0]||255>c[0]&&0>c[2]||255>c[2]&&0>c[2]||255>c[2]&&1>c[2]||255>c[2]}else if(/[0-9]+/.test(a))return parseInt(a)>16777215&&4294967296>parseInt(a);return!1},isadog:function(a,b){return this.obj(a)&&"[object RegExp]"===Object.prototype.toString.call(a)&&(!b||this.str(a.source))},isjson:function(a){return this.str(a)&&!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(a.replace(/"(\\.|[^"\\])*"/g,""))},keys:function(a,b){var c=[];if(this.obj(a,!0)||this.arr(a)){for(var d in a)a.hasOwnProperty(d)&&c.push(d);b&&c.sort()}return c},ltrim:function(a,b){if(!this.str(a))return a;b=this.str(b)?this.rescape(b):"   \n\r";var c=new RegExp("^["+b+"]+","g");return a.replace(c,"")},node:function(){var a=this.node;if(!this.str(a._cached)&&!this.bool(a._cached))try{a._cached=this.obj(process)&&this.str(process.version)&&this.obj(exports),a._cached=a._cached?process.version:!1}catch(b){a._cached=!1}return a._cached},num:function(a,b){var c=parseFloat(a);return"undefined"==typeof a||this.typeis(a,"String")&&""==a||null===a?!1:isNaN(a)?!1:this.typeis(b,"Number")?c>b:b||c>0},obj:function(a,b){return null!==a&&"object"==typeof a&&(!b||this.count(a)>0)},pad:function(a,b,c,d,e){var f="",g=0,h=this.trueish(e);if(!this.str(a)&&this.num(a)&&(a=""+a),this.str(a)&&this.num(b)){if(f+=a,c=this.num(c)?""+c:c,c=this.str(c)?c:e?" ":"0",d="undefined"==typeof d?!0:!1,f.length==b)return f;if(b>f.length){g=b-f.length;for(var i=0;g>i;i++)f=e?f+c:c+f;return f}if(f.length>b&&this.trueish(d))return f.substr(f.length-b,f.length-(f.length-b));if(f.length>b)return a}},rescape:function(a){return this.str(a)?String(a).replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"):a},rpad:function(a,b,c,d){return this.pad(a,b,c,d,!0)},rtrim:function(a,b){if(!this.str(a))return a;b=this.str(b)?this.rescape(b):" 	\n\r";var c=new RegExp("["+b+"]+$","g");return a.replace(c,"")},search:function(a,b,c){var d=null,e=null,f=null;if(this.obj(b,!0)||this.arr(b))for(d in b){if(d==a)return c?d:b[d];if((this.obj(b[d],!0)||this.arr(b[d]))&&(f=this.search(a,b[d],!0),e=d+"."+f,this.str(f)))return c?e:this.walk(e,b)}},serial:function(a){var b=[];if(!this.obj(a))return"";for(var c in a)a.hasOwnProperty(c)&&(this.arr(a[c])?b.push.apply(b,a[c].map(function(a){return escape(c+"[]")+"="+escape(a)})):this.obj(a[c])?b.push(escape(c)+"="+escape(this.serial(a[c]))):this.func(a[c])||b.push(escape(c)+"="+escape(a[c])));return this.count(b)>0?b.join("&"):!1},str:function(a,b){return"string"==typeof a&&(b||a.length>0)},time2time:function(a){var b=parseInt(a,10),c=60,d=60*c,e=24*d,f={d:0,h:0,m:0,s:0};return this.num(a,!0)?(this.num(b)&&(b>e&&(f.d=parseInt(b/e,10),b=parseInt(b-e*f.d,10)),b>d&&(f.h=parseInt(b/d,10),b=parseInt(b-d*f.h,10)),b>c&&(f.m=parseInt(b/c,10),b=parseInt(b-c*f.m,10)),b>0&&(f.s=b)),f):void 0},toke:function(a,b,c,d){if(this.str(a)){var e=String(a);c="undefined"!=typeof c&&c?"":"i",b=this.obj(b)?b:{},this.str(d)?d={l:String(d),r:String(d)}:this.arr(d)&&2==d.length&&this.str(d[0])&&this.str(d[1])?d={l:d[0],r:d[1]}:(d=this.obj(d)?d:{},d.l=this.str(d.l)?d.l:"##",d.r=this.str(d.r)?d.r:"##");for(var f in b)if(b.hasOwnProperty(f)&&this.str(f)&&(this.str(b[f])||this.num(b[f],!0))){var g=""+d.l+f+d.r,h=new RegExp(this.rescape(g),"g"+c);e=e.replace(h,b[f])}}return e},trim:function(a,b){if(!this.str(a))return a;b=this.str(b)?this.rescape(b):" 	\n\r";var c=new RegExp("(^["+b+"]+|["+b+"]+$)","g");return a.replace(c,"")},trueish:function(a){switch(typeof a){case"function":return String(a);case"string":return/^\s*(on|true|yes|1|yar|checked|selected)\s*$/i.test(a);case"object":return this.obj(a,!0);default:return a?!0:!1}},txt2html:function(a,b){var c=!1,d=["&",'"',"<",">"],e=""+a,f=null,g={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;","Â©":"&copy;","Â®":"&reg;"};if(this.str(a)){this.obj(this.txt2html._cache)||(this.txt2html._cache={}),this.typeis(b,"Boolean")?c=b:this.arr(b)&&(d=b,c=!1);for(var h=0;a.length>h;h++)this.str(a[h])&&(f=new RegExp(this.rescape(a[h]),"g"),this.str(this.txt2html._cache[a[h]])||(this.txt2html._cache[a[h]]=this.str(g[a[h]])?g[a[h]]:"&#"+a[h].charCodeAt(0)+";"),(c||this.num(this.find(a[h],d),-1))&&(e=e.replace(f,this.txt2html._cache[a[h]])));return e}},typeis:function(a,b){return"undefined"!=typeof a&&this.str(b)?Object.prototype.toString.call(a)==="[object "+b+"]"?!0:this.obj(a)&&a.constructor.name==b?!0:!1:void 0},unserial:function(a){var b={};if(this.str(a)){a=a.replace(/^.*\?/,"");var c=a.split("&");for(var d in c)if(this.str(c[d])){var e=c[d].match(/^([^=]+)=(.*)$/);e&&this.str(e[1])&&this.str(e[2])&&(b[e[1]]=e[2])}}return this.count(b)>0?b:void 0},values:function(a){var b=[];if(this.obj(a,!0)||this.arr(a))for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b},walk:function(a,b){var c,d,e;if(this.str(a)&&/^[a-zA-Z0-9\_\.\[\]\'\"]+$/.test(a)&&(c=a.split(/[\.\[]/g),this.num(c.length))){e=bpmv.obj(b,!0)||bpmv.arr(b)?b[c[0]]:window[c[0]];for(var f=1;c.length>f;f++){if(c[f]=this.trim(c[f],"'\"]"),"undefined"==typeof e[c[f]])return;e=e[c[f]]}return"undefined"!=typeof e&&(d=e),d}},whatis:function(a){if(this.obj(a)&&a.constructor&&this.str(a.constructor.name))return a.constructor.name;var b=Object.prototype.toString.call(a),c=/^\[[oO]bject ([^\]]+)\]/;return null===a&&(b="null"),0/0===a&&(b="NaN"),"undefined"==typeof a&&(b="undefined"),this.str(b)&&c.test(b)&&(b=b.match(c).pop()),this.str(b)?b:void 0},wild:function(a,b,c){var d=!1;if(this.str(a)&&this.str(b))if(a==b)d=a;else if(c=this.str(c)?this.rescape(c):this.rescape("*"),b.match(RegExp(c))){var e="^"+String(this.rescape(b)).replace(RegExp(this.rescape(c),"g"),".*")+"$";a.match(RegExp(e))&&(d=a)}return d},wrapped:function(a,b,c,d){var e=null,f=[],g=0,h=0,i=null;if(b="undefined"==typeof b?80:b,c=this.str(c)?c:"\n",d=this.str(d)?d:"",this.str(a)&&this.num(b))for(i=(""+a).replace(/(\n|\r|\t)/," ").split(/\s+/),f=[];i.length>0;){for(e="",h=g;b>(""+d+e+" "+i[0]).length&&(e+=i.shift()+" ",!(1>i.length));)g++;h===g&&i.length>0&&(e+=(this.str(e)?e:"")+i.shift()),this.str(e)&&f.push(d+this.trim(e))}return f.join(c)}};a.node()?exports[a._cfg.varName]=a:"object"==typeof us&&a.obj(us.ebpm)&&!a.obj(us.ebpm.v)?us.ebpm.v=a:"object"!=typeof BPMV_ATTACH||a.obj(BPMV_ATTACH[a._cfg.varName])?a.obj(window)&&(window[a._cfg.varName]=a):BPMV_ATTACH[a._cfg.varName]=a})();
